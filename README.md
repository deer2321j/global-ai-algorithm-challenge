# ğŸ“š åŸºäºä»²è£å¼åŒå±‚é›†æˆçš„æ™ºèƒ½å€Ÿé˜…æ¨èç³»ç»Ÿ

![Python](https://img.shields.io/badge/Python-3.8%2B-blue?style=for-the-badge&logo=python)
![Architecture](https://img.shields.io/badge/Arch-ResNet--Inspired-purple?style=for-the-badge)
![Strategy](https://img.shields.io/badge/Strategy-Weighted%20Arbitration-red?style=for-the-badge)
![Status](https://img.shields.io/badge/Status-Production%20Ready-success?style=for-the-badge)

## âš ï¸ æ³¨æ„äº‹é¡¹

- **å¤§æ–‡ä»¶**: æ¨¡å‹æƒé‡æ–‡ä»¶ (`.pkl`, `.joblib`) æœªä¸Šä¼  Gitï¼Œèµ›å‹å¦‚éœ€å®Œæ•´ç¦»çº¿åŒ…è¯·è”ç³» `gengsihang2025@163.com`

> ğŸ† **å†³èµ›æ ¸å¿ƒæ–¹æ¡ˆ**: æœ¬é¡¹ç›®åˆ›æ–°æ€§åœ°æ„å»ºäº†**â€œåŒå±‚åŠ æƒæŠ•ç¥¨ä»²è£æ¶æ„â€**ã€‚Layer 1 è´Ÿè´£æ¦‚ç‡æ ¡å‡†ä¸å­æ¨¡å‹è‡ªæ ¡æ­£ï¼Œè¾“å‡ºé«˜è´¨é‡åŸºå‡†ï¼›Layer 2 ä½œä¸ºæœ€ç»ˆå†³ç­–å±‚ï¼Œé€šè¿‡åŠ æƒæŠ•ç¥¨ä¸é¡ºåºä»²è£ï¼Œä¸ºæ¯ä¸ªç”¨æˆ·é€‰å‡ºå”¯ä¸€ä¸”ç¨³å®šçš„ Top-1 æ¨èã€‚è¯¥æ–¹æ¡ˆå®Œç¾è§£å†³äº†å¼‚æ„æ¨¡å‹æ¦‚ç‡åˆ†å¸ƒä¸ä¸€è‡´çš„é—®é¢˜ï¼Œå®ç°äº†æ¨èå‡†ç¡®ç‡çš„ç¨³æ­¥æå‡ã€‚

---

## ğŸ“– ç›®å½• (Table of Contents)

- [æ–¹æ¡ˆæ€»è§ˆ (Overview)](#-æ–¹æ¡ˆæ€»è§ˆ-overview)
- [æ ¸å¿ƒè®¾è®¡ç†å¿µ (Core Design Philosophy)](#-æ ¸å¿ƒè®¾è®¡ç†å¿µ-core-design-philosophy)
    - [Layer 1: è‡ªæ ¡æ­£ (Self-Calibration)](#1-layer-1-è‡ªæ ¡æ­£-self-calibration)
    - [Layer 2: æŠ—é€€åŒ–ä»²è£ (Anti-Degradation Arbitration)](#2-layer-2-æŠ—é€€åŒ–ä»²è£-anti-degradation-arbitration)
    - [è·¨æ¨¡å‹æ¦‚ç‡å¯æ¯”æ€§æ ¡å‡† (Cross-Model Calibration)](#3-è·¨æ¨¡å‹æ¦‚ç‡å¯æ¯”æ€§æ ¡å‡†-cross-model-calibration)
- [ç³»ç»Ÿæ¶æ„ (System Architecture)](#-ç³»ç»Ÿæ¶æ„-system-architecture)
- [å¿«é€Ÿå¼€å§‹ (Quick Start)](#-å¿«é€Ÿå¼€å§‹-quick-start)
- [ä»“åº“ç»“æ„ (Repository Layout)](#-ä»“åº“ç»“æ„-repository-layout)
- [å®Œæ•´å¤ç° (Full Reproduction)](#-å®Œæ•´å¤ç°-full-reproduction)

---

## ğŸ—ºï¸ æ–¹æ¡ˆæ€»è§ˆ (Overview)

é’ˆå¯¹èµ›é¢˜ä¸­è·¨æ¨¡æ€ç‰¹å¾æå–å›°éš¾ã€å†·å¯åŠ¨é—®é¢˜æ˜¾è‘—ä»¥åŠå¤šæ¨¡å‹èåˆå°ºåº¦ä¸ä¸€çš„æ ¸å¿ƒæŒ‘æˆ˜ï¼Œæœ¬é¡¹ç›®æå‡ºäº†**â€œåŠ æƒæŠ•ç¥¨ä¸ºä¸»ã€é¡ºåºä»²è£ä¸ºè¾…â€**çš„åŒå±‚é›†æˆæ¡†æ¶ï¼š

*   **Layer 1 (æ¦‚ç‡æ ¡å‡†)**: å­æ¨¡å‹è‡ªæ ¡å‡†ï¼Œè´Ÿè´£è¾“å‡ºé«˜è´¨é‡çš„å­æ¨¡å‹ã€‚
*   **Layer 2 (æœ€ç»ˆå†³ç­–)**: é€šè¿‡åŠ æƒæŠ•ç¥¨ï¼Œä¸ºæ¯ä¸ªç”¨æˆ·é€‰å‡ºå”¯ä¸€ä¸”ç¨³å®šçš„ Top-1 æ¨èã€‚
*   **ååŒæœºåˆ¶**: Layer 1 å±‚ä¸ Layer 2 åŠ æƒå†³ç­–ä»²è£å±‚çš„åŒå±‚ååŒï¼Œå®ç°å¯¹ç”¨æˆ·å€Ÿé˜…è¡Œä¸ºçš„å‡†ç¡®ç¨³å®šé¢„æµ‹ã€‚

---

## ğŸ§  æ ¸å¿ƒè®¾è®¡ç†å¿µ (Core Design Philosophy)

### 1. Layer 1: è‡ªæ ¡æ­£ (Self-Calibration)
**â€”â€” å¯»æ‰¾å˜åŒ–ä¸­çš„â€œä¸å˜é‡â€**

*   **é—®é¢˜å‘ç°**: åœ¨å¼€å‘ `rv5` ç³»åˆ—æ¨¡å‹æ—¶ï¼Œæˆ‘ä»¬å‘ç°**æ”¹å˜æ–‡æœ¬åµŒå…¥ç»´åº¦**ï¼ˆText Embedding Dimensionï¼‰ï¼Œæœ€ç»ˆç”Ÿæˆçš„é¢„æµ‹ç»“æœä¼šæœ‰æ³¢åŠ¨ã€‚
*   **è‡ªçº æ­£ç­–ç•¥**: æˆ‘ä»¬ä¸ä¾èµ–å•ä¸€å‚æ•°æ¨¡å‹ï¼Œè€Œæ˜¯å°†ä¸åŒç»´åº¦çš„å˜ä½“æ”¾å…¥ Layer 1 è¿›è¡Œ**è‡ªçº æ­£**ã€‚
*   **å…·ä½“å®ç°**:
    *   é€šè¿‡ä¸æ–­æå–ä¸åŒå˜ä½“ä¹‹é—´çš„**å…¬å…±æ¨èï¼ˆIntersectionï¼‰**ï¼Œèµ‹äºˆè¿™äº›ç¨³å®šéƒ¨åˆ†æé«˜çš„æƒé‡ã€‚
    *   æ‰¾åˆ°åœ¨ä¸æ–­å‚æ•°å˜åŒ–ä¸­ï¼Œä»ç„¶ä¿æŒä¸å˜çš„ç¨³å®šæ¨èã€‚
*   **ä»·å€¼**: è¿™ç§æœºåˆ¶æå‡äº† Layer 2 åœ¨åŠ å…¥æ–°æ¨¡å‹æ—¶çš„æŠ—å¹²æ‰°èƒ½åŠ›ï¼Œä¸ºæœ€ç»ˆæŠ•ç¥¨æä¾›äº†åšå®çš„â€œç¨³å®šéƒ¨åˆ†â€ã€‚

### 2. Layer 2: æŠ—é€€åŒ–ä»²è£ (Anti-Degradation Arbitration)
**â€”â€” ResNet å¼çš„â€œè·³è¿ä¸ä¼¤ä¸»å¹²â€**

Layer 2 ä½œä¸ºæœ€ç»ˆå†³ç­–å±‚ï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯ç¡®ä¿åœ¨å¼•å…¥æ–°æ¨¡å‹æ—¶ï¼Œç³»ç»Ÿæ€§èƒ½**å•è°ƒä¸å‡**ã€‚

*   **ç¨³å®šæå‡é€»è¾‘ (è¡¥å……å‘ç°)**:
    *   å·®å¼‚åŒ–æ¨¡å‹ä¸»è¦æä¾›â€œè¡¥å……å‘ç°â€ã€‚
    *   å³ä½¿æŸä¸ªæ–°æ¨¡å‹æ•´ä½“è¡¨ç°è¾ƒå·®ï¼Œä½†å®ƒé¢„æµ‹æ­£ç¡®çš„**å¥½çš„æ ·æœ¬**ä¼šå› æƒé‡å åŠ è¢«ç­›é€‰å‡ºæ¥ã€‚
    *   é¢„æµ‹é”™è¯¯çš„**å·®çš„æ ·æœ¬**å› æƒé‡å°æˆ–ä¸è¢«å¤šæ•°æ¨¡å‹æ”¯æŒï¼Œæœ€ç»ˆä¸è¢«é‡‡çº³ã€‚
*   **æŠ—é€€åŒ–æ€§è´¨**:
    *   ç±»ä¼¼äº **ResNet çš„è·³è¿ç»“æ„ (Skip Connection)**ã€‚
    *   æ–°å¢æ¨¡å‹ç”¨**å°æƒé‡**è¿›å…¥ä½“ç³»ï¼Œå…¶é”™è¯¯å½±å“è¢«ä¸Šé™çº¦æŸï¼ˆä¸ä¼šç ´åä¸»å¹²ï¼‰ã€‚
    *   åªæœ‰å½“è¯¥æ¨¡å‹åœ¨æŸäº›ç‰¹å®š User-Book å¯¹ä¸Šæ˜¾è‘—æœ‰ç›Šæ—¶ï¼Œæ‰ä¼šæå‡æ€»åˆ†ã€‚
*   **ç»“æœ**: è¿™ç§æœºåˆ¶è®©æˆ‘ä»¬åç»­æ›´å¤šçš„å·¥ä½œé‡ï¼ˆåŠ å…¥æ–°æ¨¡å‹ï¼‰**ä¸ä¼šå¯¼è‡´æ¨¡å‹æ€§èƒ½çš„é€€åŒ–**ï¼ŒåŸºæœ¬åˆ†æ•°éƒ½æ˜¯ä¸æ–­æå‡ã€‚

### 3. è·¨æ¨¡å‹æ¦‚ç‡å¯æ¯”æ€§æ ¡å‡† (Cross-Model Calibration)
**â€”â€” è§£å†³â€œæ¦‚ç‡ä¸å¯æ¯”â€ç—›ç‚¹**

*   **æ ¸å¿ƒç—›ç‚¹**: å¼‚æ„æ¨¡å‹ï¼ˆå¦‚ GNN vs GBDTï¼‰è¾“å‡ºçš„æ¦‚ç‡åˆ†å¸ƒå­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚è‹¥ç›´æ¥èåˆåŸå§‹æ¦‚ç‡ï¼Œä¼šå¯¼è‡´é«˜ç½®ä¿¡åº¦æ¨¡å‹ï¼ˆå¾€å¾€æ˜¯â€œè¿‡è‡ªä¿¡â€çš„ï¼‰æ©ç›–å…¶ä»–æ¨¡å‹çš„æœ‰æ•ˆä¿¡å·ï¼ŒæŸå¤±å¤šæ ·æ€§ä¸äº’è¡¥æ€§ã€‚
*   **æŠ€æœ¯è§£å†³æ–¹æ¡ˆ**:
    1.  **æ–‡ä»¶å†…æ ‡å‡†åŒ–**: å¯¹å­æ¨¡å‹é¢„æµ‹ç»“æœè¿›è¡Œæ ‡å‡†åŒ–ï¼Œæ¶ˆé™¤æ¨¡å‹å†…éƒ¨çš„å°ºåº¦å·®å¼‚ã€‚
    2.  **è·¨æ¨¡å‹æƒé‡èåˆ**: åŸºäºéªŒè¯é›†æ€§èƒ½è®¡ç®—æ¨¡å‹æƒé‡ï¼Œåªå¯¹é¢„æµ‹ç»“æœè¿›è¡ŒåŠ æƒèåˆï¼Œ**ä¸å†è€ƒè™‘å•ä¸€æ¨¡å‹çš„ç½®ä¿¡æ¦‚ç‡**ã€‚
*   **æ•ˆæœ**: ç¡®ä¿äº†æ‰€æœ‰æ¨¡å‹åœ¨å…¬å¹³çš„è·‘é“ä¸Šç«äº‰ï¼Œå……åˆ†å¸æ”¶å„å­æ¨¡å‹çš„ä¼˜åŠ¿ç‰¹å¾ï¼Œé¿å…å•ä¸€æ¨¡å‹ä¸»å¯¼å†³ç­–ï¼Œæ˜¾è‘—æå‡äº†é›†æˆç³»ç»Ÿçš„æ³›åŒ–èƒ½åŠ›ä¸é²æ£’æ€§ã€‚

---

## ğŸ› ï¸ ç³»ç»Ÿæ¶æ„ (System Architecture)

```mermaid
graph LR
    %% è§†è§‰ç­–ç•¥ï¼šé¿å…å¤§å—çº¯ç™½èƒŒæ™¯ï¼Œå…¼å®¹ GitHub æ·±è‰²ä¸»é¢˜
    classDef input fill:#2d1b69,stroke:#a78bfa,stroke-width:2px,color:#f5f3ff;
    classDef model fill:#0b2d4a,stroke:#60a5fa,stroke-width:2px,color:#e0f2fe;
    classDef l1 fill:#3a2500,stroke:#f59e0b,stroke-width:2px,stroke-dasharray: 6 4,color:#fff7ed;
    classDef l2 fill:#043d3a,stroke:#14b8a6,stroke-width:3px,color:#ecfeff;
    classDef final fill:#0b0f14,stroke:#94a3b8,stroke-width:2px,color:#ffffff;

    Input["å¤šæ¨¡æ€è¾“å…¥æ•°æ®"]:::input

    RV5A["rv5 Dim=64"]:::model
    RV5B["rv5 Dim=128"]:::model
    Other["å…¶ä»–å¼‚æ„æ¨¡å‹"]:::model

    L1["Layer 1 è‡ªæ ¡æ­£èšåˆ"]:::l1
    L2["Layer 2 æœ€ç»ˆä»²è£"]:::l2
    Out((submission.csv)):::final

    Input --> RV5A
    Input --> RV5B
    Input --> Other

    RV5A -->|"æå–å…¬å…±"| L1
    RV5B -->|"æå–å…¬å…±"| L1

    L1 ==>|"ç¨³å®šä¿¡å· é«˜æƒé‡"| L2
    Other -.->|"è¡¥å……ä¿¡å· å°æƒé‡"| L2

    L2 --> Out

    linkStyle default stroke:#94a3b8,stroke-width:2px;
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹ (Quick Start)

åœ¨ **é¡¹ç›®æ ¹ç›®å½•** ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤å³å¯ç”Ÿæˆæœ€ç»ˆæäº¤æ–‡ä»¶ï¼š

```bash
python FINALåŠ æƒ.py
```

*   **è¾“å‡º**: `submission.csv`
*   **æ³¨æ„**: è„šæœ¬ä¾èµ–å„å­ç›®å½•çš„ä¸­é—´äº§ç‰©ï¼Œå¦‚æœæ˜¯é¦–æ¬¡è¿è¡Œï¼Œè¯·å‚è€ƒä¸‹æ–¹çš„â€œå®Œæ•´å¤ç°â€ã€‚

---

## ğŸ“‚ ä»“åº“ç»“æ„ (Repository Layout)

```text
.
â”œâ”€â”€ ğŸ“œ FINALåŠ æƒ.py                # ğŸ”¥ Layer 2 æ ¸å¿ƒï¼šæœ€ç»ˆä»²è£ä¸åŠ æƒè„šæœ¬ -> submission.csv
â”œâ”€â”€ ğŸ“œ Top10åŠ æƒèåˆ.py            # ğŸ›¡ï¸ Layer 1 æ ¸å¿ƒï¼šTop-10 åŸºå‡†ç”Ÿæˆ -> top10åŠ æƒè¾“å‡ºç»“æœ.csv
â”œâ”€â”€ ğŸ“œ æ•´åˆrv5åˆ°æœ€ç»ˆæŠ•ç¥¨.py         # ğŸ”§ Layer 1 æ ¸å¿ƒï¼šrv5 è‡ªæ ¡æ­£ä¸æ ‡å‡†åŒ– -> ä¸ƒä»¥ä¸Šçš„v5.csv
â”œâ”€â”€ ğŸ“‚ 23æ··æ¨/                     # ğŸ§  å­æ¨¡å‹ï¼šæ··åˆæ¨èç­–ç•¥
â”œâ”€â”€ ğŸ“‚ v5/                        # ğŸ§  å­æ¨¡å‹ï¼šv5 ç³»åˆ— (å«è‡ªæ ¡æ­£é€»è¾‘)
â”œâ”€â”€ ğŸ“‚ dspos2/                    # ğŸ§  å­æ¨¡å‹ï¼šdspos2 ç‰ˆæœ¬
â”œâ”€â”€ ğŸ“‚ 133/                       # ğŸ§  å­æ¨¡å‹ï¼š133 ç‰ˆæœ¬
â”œâ”€â”€ ğŸ“‚ f1/                        # ğŸ§  å­æ¨¡å‹ï¼šf1 ç‰ˆæœ¬
â”œâ”€â”€ ğŸ“‚ v2/                        # ğŸ§  å­æ¨¡å‹ï¼šv2 ç‰ˆæœ¬
â”œâ”€â”€ ğŸ“‚ å†³èµ›classic_autoML/        # ğŸ§  å­æ¨¡å‹ï¼šAutoML ç­–ç•¥
â””â”€â”€ ğŸ“ ç¯å¢ƒä¾èµ–.txt                 # ğŸ“¦ ä¾èµ–è¯´æ˜
```

---

## ğŸ”„ å®Œæ•´å¤ç° (Full Reproduction)

### 1. å­æ¨¡å‹ç”Ÿæˆ (Per-model Inference)
è¿›å…¥ä»¥ä¸‹æ¯ä¸ªæ–‡ä»¶å¤¹ï¼ŒæŒ‰ç…§å…¶å†…éƒ¨ README è¿è¡Œï¼Œç”Ÿæˆå„è‡ªçš„ CSV äº§ç‰©ï¼š
> `23æ··æ¨` / `v5` / `dspos2` / `133` / `f1` / `v2` / `å†³èµ›classic_autoML`

### 2. æ‰§è¡ŒåŒå±‚é›†æˆ (Execute Ensemble)

```bash
# Step 1: Layer 1 è‡ªæ ¡æ­£ (Self-Correction)
# å¯¹ rv5 ç³»åˆ—è¿›è¡Œå†…éƒ¨åŠ æƒä¸æ ‡å‡†åŒ–ï¼Œæå–ç¨³å®šä¿¡å·
python æ•´åˆrv5åˆ°æœ€ç»ˆæŠ•ç¥¨.py

# Step 2: å‡†å¤‡åŸºå‡†æ•°æ®
# ç”Ÿæˆ Top-10 è¾…åŠ©åŸºå‡†
python Top10åŠ æƒèåˆ.py

# Step 3: Layer 2 æœ€ç»ˆä»²è£ (Final Arbitration)
# å…¨é‡æ¨¡å‹æ ‡å‡†åŒ– + åŠ æƒæŠ•ç¥¨ + é¡ºåºä»²è£
python FINALåŠ æƒ.py
```

---

<p align="center">
  <i>Powered by <b>Arbitration-based Ensemble Strategy</b></i>
</p>
